const faviconHandler=()=>{const e=document.querySelector('link[rel="icon"][sizes="any"]');if(!e)return;const o=document.hidden?"./favicon/favicon-inactive.svg":"./favicon/favicon.svg";e.setAttribute("href",o)},smoothScrollTo=e=>{e&&("scrollBehavior"in document.documentElement.style?e.scrollIntoView({behavior:"smooth",block:"start"}):window.scrollTo({top:e.offsetTop,behavior:"smooth"}))},hashChangerHandler=()=>{const e=window.location.hash;if(!e)return;const o=CSS.escape(e),t=document.querySelector(`[href="${o}"]`);t&&smoothScrollTo(t)},updateActiveSection=(()=>{const e=document.querySelectorAll(".c-heading-anchor"),o=document.querySelectorAll(".c-heading-anchor__link");let t;const n=()=>{requestAnimationFrame((()=>{if(window.scrollY<=50&&window.location.hash)return o.forEach((e=>e.classList.remove("c-heading-anchor__link--active"))),void history.replaceState(null,null,window.location.pathname);let t=null,n=0;for(let o=0;o<e.length;o++){const i=e[o],a=i.getBoundingClientRect();if(a.top<window.innerHeight&&a.bottom>0){const e=Math.min(a.bottom,window.innerHeight)-Math.max(a.top,0);e>n&&(n=e,t=i.querySelector("a[class='c-heading-anchor__link']"))}}if(t){const e=t.getAttribute("href");window.location.hash!==e&&(history.replaceState(null,null,e),o.forEach((o=>{o.classList.toggle("c-heading-anchor__link--active",o.getAttribute("href")===e)})))}else o.forEach((e=>e.classList.remove("c-heading-anchor__link--active"))),window.location.hash&&history.replaceState(null,null,window.location.pathname)}))};return()=>{clearTimeout(t),t=setTimeout(n,100)}})(),main=()=>{document.addEventListener("visibilitychange",faviconHandler),window.addEventListener("hashchange",hashChangerHandler),window.location.hash&&requestAnimationFrame((()=>{const e=CSS.escape(window.location.hash),o=document.querySelector(`[href="${e}"]`);o&&requestAnimationFrame((()=>smoothScrollTo(o)))})),window.addEventListener("scroll",updateActiveSection,{passive:!0})};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",main):main();